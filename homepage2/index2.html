<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="..\homepage\index.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class = "Visual_layer">
        <div class="index_nav">
            <a class = "index_nav_logo">
                <div class="Logo_image"></div>
            </a>
            <div class = "index_nav_options"> 
                <a class = "index_nav_options_home" href="">
                    <p>HOME</p>
                </a>
                <a class = "index_nav_options_course" href="">
                    <p>COURSE</p>
                </a>
                <a class = "index_nav_options_about"  href="">
                    <p>ABOUT</p>
                </a>
    
            </div>
            <a class = "index_nav_login"> 
                <p>Log out</p>
            </a>
    
        </div>
        <div class = "index_body">
            <div class="index_body_description">
                <p class = "Intro_Header">Welcome to our team</p>
                <p class = " Intro_details">Manual grading is actually popular at nowadays, but it's sure that is not the best way due to the time consumption it cost every time. Thanks to the development of technology, especially Artificial Intelligence, has motivated our team to implement a grading system that can help the teacher save a lot of their time on grading their student's answers sheets. Let's log in and enjoy your free time with us! </p>
            </div>
            <!-- <div class="Contain_form">
                <form class = "index_body_form">
                    <div class="index_body_form_header">
                        <p>Sign Up</p>
                    </div>
                    <div class="index_body_form_inputs">
                        <input type="email" class = "email" placeholder="Emai Address">
                        <input type="password" class = "password" placeholder="Password">
                        <input type="password" class="password"  placeholder="Re-type Password">
                    </div>
                    <div>
                        <button class="SignUp_Button">
                            <p>Sign Up</p>
                        </button>
                    </div>
                   
                </form>
            </div> -->
           
    
        </div>

    </div>
    
    

    <script type="module">
        // Import the functions you need from the SDKs you need
        import app from "../firebase.js"
        // import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-app.js";
        import { getDatabase, set, ref, update} from 'https://www.gstatic.com/firebasejs/9.6.8/firebase-database.js';
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword , onAuthStateChanged, signOut} from 'https://www.gstatic.com/firebasejs/9.6.8/firebase-auth.js';
        // import { getAuth, createUserWithEmailAndPassword } from 'https://www.gstatic.com/firebasejs/9.6.8/firebase-auth.js'
        // import { getFirestore  } from 'https://www.gstatic.com/firebasejs/9.6.8/firebase-firestore.js'
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // const firebaseConfig = {
        //   apiKey: "AIzaSyDy0vFrfvuXoi4xEa9zi7qlkNFy3haRtOI",
        //   authDomain: "dadn-6c126.firebaseapp.com",
        //   projectId: "dadn-6c126",
        //   storageBucket: "dadn-6c126.appspot.com",
        //   messagingSenderId: "768299472042",
        //   appId: "1:768299472042:web:2bbf97516e7c06e092ecd3"
        // };
      
        // Initialize Firebase
        // const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const auth = getAuth()
        const logoutButton = document.querySelector('.index_nav_login')
        const delete_user = auth.currentUser;
        logoutButton.addEventListener('click', () => {
            // update(ref(database, 'users/' + delete_user.uid),{
            //     status:false            }) 
            signOut(auth)
                .then(() => {
                    console.log('user signed out')
                })
                .catch(err => {
                    console.log(err.message)
                })
        })
        onAuthStateChanged(auth, (user) => {
            if(user){
                console.log("nam in here");
               console.log(user);
            // window.location = '../homepage/index.html';
            }
            else{
                console.log("nam not in here");
                window.location = '../homepage/index.html';
            }
        })
    
    
        // Make auth, firestore
        // const auth = getAuth();
        // const db = getFirestore();
      </script>
</body>
</html>